@model IEnumerable<TravelManager.Models.TravelWarrant>

@{
    ViewBag.Title = "TravelWarrant";
}

<h2>TravelWarrant</h2>

<p>
    @Html.ActionLink("Create New", "AddTravelWarrant", null, new { @class = "btn btn-primary" })
</p>
<table class="table table-striped ">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Status)

            </th>
            <th>
                @Html.DisplayNameFor(model => model.TravelLength)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.DaysExpected)
            </th>

            <th>
                @Html.DisplayNameFor(model => model.StartCity)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.StopCity)
            </th>

            <th>
                @Html.DisplayNameFor(model => model.CarID)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.DriverID)
            </th>

            <th></th>
        </tr>
    </thead>

    <tbody>
        @foreach (var item in Model)
        {
            <tr>

                <td>
                    @Html.DisplayFor(modelItem => item.Status)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.TravelLength)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DaysExpected)
                </td>

                <td>
                    @Html.Action(actionName: "GetCity", routeValues: new { IDCity = item.StartCity })
                    @*@Html.DisplayFor(modelItem => item.StartCity)*@
                </td>
                <td>
                    @Html.Action(actionName: "GetCity", routeValues: new { IDCity = item.StopCity })
                    @*@Html.DisplayFor(modelItem => item.StopCity)*@
                </td>

                <td>
                    @Html.Action(actionName: "GetCar", routeValues: new { IDCar = item.CarID })
                    @*@Html.DisplayFor(modelItem => item.CarID)*@
                </td>
                <td>
                    @Html.Action(actionName: "GetDriver", routeValues: new { IDDriver = item.DriverID })
                    @* @Html.DisplayFor(modelItem => item.DriverID)*@
                </td>

                <td>
                    @Html.ActionLink("Travel Details", "TravelWarantDetails", new { IDTravelWarrant = item.IDTravelInfo }, new { @class = "btn btn-success" })
                    @Html.ActionLink("Delete", "DeleteTravelWarrant", new { IDTravelWarrant = item.IDTravelInfo }, new { onclick = "return confirm('Are you sure you want to delete TravelWarrant ')", @class = "btn btn-danger" })
                </td>
            </tr>
        }
    </tbody>

</table>
@section   scripts{

    <script>
        $("table.table").DataTable({
            'columnDefs': [{
                "orderable": false, "targets": [1, 2, 3, 4, 5, 6, 7]
            }]
        });


    </script>
}